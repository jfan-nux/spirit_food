# Spirit Food Adventure Tree

## Overview

The adventure follows you as a **sentient food order** navigating the chaotic DoorDash multiverse. Each choice awards points to dish types and alignment axes.

## Scoring Legend

Each choice awards points to:
- **Dish Types**: Listed in `[brackets]`
- **Time Axis**: `{Early Bird}`, `{All Day}`, `{Late Night}`
- **Adventure Axis**: `{Comfort}`, `{Balanced}`, `{Adventurer}`

---

## THE ADVENTURE BEGINS

### Scene 1: The Awakening
**"You materialize in the DoorDash Dimension - a swirling vortex of delivery bags and glowing receipts. A cheerful ding announces your existence. What kind of vessel are you in?"**

| Choice | Awards |
|--------|--------|
| A sturdy paper bag, practical and dependable | [Burger, Sandwich, Wings] {All Day} {Comfort} |
| A sleek black container, mysterious and warm | [Pho, Ramen, Hot Pot] {Late Night} {Adventurer} |
| A colorful box covered in restaurant logos | [Taco, Burrito, Pad Thai] {All Day} {Balanced} |
| A tower of carefully stacked containers | [Sushi, Poke, Dumpling] {All Day} {Adventurer} |

→ All paths lead to **Scene 2**

---

### Scene 2: The Dasher Appears
**"A Dasher materializes before you - but something's off. They're riding a giant flying chopstick and their hot bag is full of glowing stars. 'Quick!' they shout. 'The Hangry Void is expanding! Where should we go first?'"**

| Choice | Awards |
|--------|--------|
| "To the Comfort Clouds! Where warmth never fades!" | [Burger, Fried Chicken, Mac & Cheese] {Comfort} {Early Bird} |
| "Through the Spice Nebula! No flavor is too bold!" | [Curry, Biryani, Hot Pot] {Adventurer} {Late Night} |
| "The Noodle Nexus! Where carbs bend reality!" | [Ramen, Pho, Pad Thai, Noodles] {Balanced} {All Day} |
| "The Crispy Kingdom! Where texture is everything!" | [Wings, Fried Chicken, Taco] {Adventurer} {Late Night} |

→ **Comfort Clouds** leads to Scene 3A
→ **Spice Nebula** leads to Scene 3B
→ **Noodle Nexus** leads to Scene 3C
→ **Crispy Kingdom** leads to Scene 3D

---

### Scene 3A: The Comfort Clouds
**"You float through clouds made of mashed potatoes and gravy rain. A wise old Grilled Cheese floats by. 'Young one,' it says, 'what do you seek in these gentle skies?'"**

| Choice | Awards |
|--------|--------|
| "I seek the warmth of familiar flavors" | [Burger, Sandwich] {Comfort} {Early Bird} |
| "I want to wrap myself in something satisfying" | [Burrito, Wrap] {Comfort} {All Day} |
| "I'm here for the crispy-meets-soft experience" | [Fried Chicken, Wings] {Balanced} {Late Night} |
| "Just vibing honestly" | [Pizza, Mac & Cheese] {Comfort} {All Day} |

→ All lead to **Scene 4**

---

### Scene 3B: The Spice Nebula
**"Colors you've never seen assault your senses. A being made entirely of chili oil approaches. 'You dare enter my domain?' it booms. 'Prove your worth!'"**

| Choice | Awards |
|--------|--------|
| Bow respectfully and ask to learn the ancient ways | [Curry, Biryani] {Adventurer} {All Day} |
| Challenge it to a heat tolerance contest | [Hot Pot, Ramen] {Adventurer} {Late Night} |
| Offer it a cooling drink as a peace offering | [Pho, Rice Bowl] {Balanced} {Late Night} |
| Run away screaming but like in a fun way | [Pad Thai, Noodles] {Balanced} {All Day} |

→ All lead to **Scene 4**

---

### Scene 3C: The Noodle Nexus
**"Infinite strands of noodles stretch in every direction like a carbohydrate cosmos. They whisper secrets of umami. A Ramen sage asks: 'What is your noodle philosophy?'"**

| Choice | Awards |
|--------|--------|
| "Broth is life. The noodle is merely the vessel." | [Pho, Ramen] {Late Night} {Adventurer} |
| "Stir-fried, tossed, SAUCED. Dry noodles reign supreme." | [Pad Thai, Noodles, Lo Mein] {All Day} {Balanced} |
| "I believe in the power of the slurp" | [Ramen, Pho, Hot Pot] {Late Night} {Adventurer} |
| "Noodles? I thought this was the Rice District" | [Rice Bowl, Fried Rice, Biryani] {All Day} {Comfort} |

→ All lead to **Scene 4**

---

### Scene 3D: The Crispy Kingdom
**"Everything here CRUNCHES. The ground is made of fried wontons. The trees are giant tempura vegetables. A Chicken Tender knight approaches. 'State your crunch allegiance!'"**

| Choice | Awards |
|--------|--------|
| "I pledge to the Order of the Deep Fry!" | [Fried Chicken, Wings] {Late Night} {Comfort} |
| "My loyalty lies with the Taco Crunch Covenant!" | [Taco, Nachos] {Late Night} {Adventurer} |
| "I serve the Dumpling Wrapper Council!" | [Dumpling, Egg Roll, Spring Roll] {All Day} {Balanced} |
| "I'm more of a soft crunch person - like lettuce" | [Sandwich, Wrap, Poke] {Early Bird} {Balanced} |

→ All lead to **Scene 4**

---

### Scene 4: The Time Rift
**"ALERT! A temporal anomaly! You're being pulled through the Clock of Cravings! When do you feel most... yourself?"**

| Choice | Awards |
|--------|--------|
| Dawn. Fresh starts. Breakfast energy forever. | [Acai Bowl, Sandwich, Burrito] {Early Bird} {Early Bird} |
| High noon. Peak performance. Main character moment. | [Burger, Poke, Rice Bowl] {All Day} {All Day} |
| The golden hour. Dinner dreams. Cozy contemplation. | [Curry, Ramen, Hot Pot] {All Day} {Comfort} |
| 2 AM. The witching hour. When hunger is REAL. | [Pho, Taco, Fried Chicken] {Late Night} {Late Night} |

→ All paths lead to **Scene 5**

---

### Scene 5: The Ingredient Crossroads
**"You arrive at a mystical intersection where four elemental forces converge. Each path calls to you. Which ingredient energy resonates with your soul?"**

| Choice | Awards |
|--------|--------|
| **PROTEIN PATH** - "Strength flows through me" | [Burger, Fried Chicken, Steak, Wings] {Comfort} |
| **CARB CANYON** - "I am sustained by the grain" | [Ramen, Noodles, Rice Bowl, Biryani] {Balanced} |
| **VEGGIE VALLEY** - "Freshness is my vibe" | [Poke, Acai Bowl, Salad] {Early Bird} {Adventurer} |
| **SAUCE SPRINGS** - "Flavor over everything" | [Curry, Pho, Hot Pot, Pad Thai] {Late Night} {Adventurer} |

→ All paths lead to **Scene 6**

---

### Scene 6: The Social Summons
**"A giant phone notification appears in the sky. Your friends are ordering food together! How do you approach the group order?"**

| Choice | Awards |
|--------|--------|
| "I'll get my usual. I know what I like." | [Burger, Pizza, Fried Chicken] {Comfort} {Comfort} |
| "What's everyone else getting? I'll coordinate!" | [Sushi, Dumpling, Poke] {Balanced} {Balanced} |
| "Let me find something no one's tried before!" | [Biryani, Pho, Hot Pot] {Adventurer} {Adventurer} |
| "I'm just here for the boba honestly" | [Boba, Acai Bowl] {Late Night} {Balanced} |

→ All paths lead to **Scene 7**

---

### Scene 7: The Crisis Point
**"DISASTER! The Hangry Void has caught up! It's a swirling mass of empty stomachs and sad desk lunches! Only the perfect food can satisfy it! What's your battle cry?"**

| Choice | Awards |
|--------|--------|
| "COMFORT CONQUERS ALL!" *summons cozy energy* | [Burger, Ramen, Pizza] {Comfort} {Late Night} |
| "SPICE SAVES THE DAY!" *unleashes flavor blast* | [Curry, Pho, Hot Pot, Taco] {Adventurer} {Late Night} |
| "FRESHNESS PREVAILS!" *radiates health* | [Poke, Acai Bowl, Sushi] {Early Bird} {Adventurer} |
| "CARBS ARE KING!" *becomes extra filling* | [Burrito, Noodles, Rice Bowl, Biryani] {All Day} {Comfort} |

→ All paths lead to **Scene 8**

---

### Scene 8: The Delivery Destination
**"Victory! The Hangry Void is satisfied! Your Dasher guide says, 'You've proven yourself. Where shall I deliver you for eternity?'"**

| Choice | Awards |
|--------|--------|
| "A cozy apartment with Netflix already playing" | [Ramen, Pizza, Wings] {Late Night} {Comfort} |
| "A sunny park bench, people-watching paradise" | [Poke, Acai Bowl, Sandwich] {Early Bird} {Balanced} |
| "A lively dinner table with too many people" | [Hot Pot, Dumpling, Curry] {All Day} {Adventurer} |
| "Wherever I'm needed most. I'm versatile." | [Burger, Taco, Rice Bowl] {All Day} {Balanced} |

→ All paths lead to **Scene 9**

---

### Scene 9: The Final Question
**"One last thing," the universe whispers. "When someone asks what kind of food you are... what do you FEEL in your soul?"**

| Choice | Awards |
|--------|--------|
| "I'm the food you crave when you need a hug" | [Pho, Ramen, Curry] {Late Night} {Comfort} x2 |
| "I'm the food that makes people say 'treat yourself'" | [Sushi, Poke, Acai Bowl] {Early Bird} {Adventurer} x2 |
| "I'm the food that brings people together" | [Hot Pot, Dumpling, Pizza] {All Day} {Balanced} x2 |
| "I'm the food that hits different at 2am" | [Taco, Burger, Fried Chicken, Wings] {Late Night} {Late Night} x2 |

→ **QUIZ COMPLETE** → Calculate Results

---

## Scoring Algorithm

```javascript
function calculateSpiritFood(scores) {
  // 1. Find top dish type
  const topDish = Object.entries(scores.dishes)
    .sort((a, b) => b[1] - a[1])[0][0];

  // 2. Calculate time alignment
  const timeTotal = Object.values(scores.timeAxis).reduce((a,b) => a+b, 0);
  const timeAlignment = Object.entries(scores.timeAxis)
    .map(([k, v]) => ({ axis: k, percent: Math.round(v/timeTotal * 100) }))
    .sort((a, b) => b.percent - a.percent)[0];

  // 3. Calculate adventure alignment
  const advTotal = Object.values(scores.adventureAxis).reduce((a,b) => a+b, 0);
  const advAlignment = Object.entries(scores.adventureAxis)
    .map(([k, v]) => ({ axis: k, percent: Math.round(v/advTotal * 100) }))
    .sort((a, b) => b.percent - a.percent)[0];

  // 4. Combine for final alignment title
  // Map to short names
  const timeNames = {
    "Early Bird": "Morning",
    "All Day": "Anytime",
    "Late Night": "Midnight"
  };
  const advNames = {
    "Comfort Seeker": "Cozy",
    "Balanced": "Balanced",
    "Flavor Adventurer": "Chaotic"
  };

  const alignmentTitle = `${advNames[advAlignment.axis]} ${timeNames[timeAlignment.axis]}`;

  return {
    dish: topDish,
    alignment: alignmentTitle,
    timeAxis: timeAlignment,
    adventureAxis: advAlignment
  };
}
```

## Cuisine Layering (Post-Quiz)

```javascript
function determineCuisine(dish, flavorProfile) {
  // Default cuisine pairings
  const defaults = {
    "Pho": "Vietnamese",
    "Ramen": "Japanese",
    "Burger": "American",
    "Taco": "Mexican",
    "Curry": "Indian",
    "Dumpling": "Chinese",
    "Sushi": "Japanese",
    "Pad Thai": "Thai",
    "Biryani": "Indian",
    "Hot Pot": "Chinese",
    "Pizza": "Italian",
    "Fried Chicken": "American",
    "Wings": "American",
    "Burrito": "Mexican",
    "Poke": "Hawaiian",
    "Acai Bowl": "Brazilian",
    "Rice Bowl": "Japanese",
    "Noodles": "Chinese",
    "Sandwich": "American",
    "Boba": "Taiwanese"
  };

  // If user has Snowflake flavor profile
  if (flavorProfile && flavorProfile.cuisine_preferences) {
    // Extract top cuisine from profile
    const topCuisine = extractTopCuisine(flavorProfile.cuisine_preferences);

    // Check if it makes sense with dish type
    if (cuisineMatchesDish(topCuisine, dish)) {
      return topCuisine;
    }
  }

  return defaults[dish] || "Fusion";
}
```

## Visual Scene Descriptions (for illustrations)

| Scene | Visual Description |
|-------|---------------------|
| 1 | Swirling vortex of delivery bags, glowing order receipts floating like fireflies |
| 2 | Dasher on giant chopstick, hot bag full of stars, dark void in background |
| 3A | Fluffy clouds made of mashed potatoes, gravy rain, floating grilled cheese sage |
| 3B | Psychedelic nebula of chili colors, being made of chili oil, heat waves |
| 3C | Infinite noodle strands in space, ramen sage meditating, umami particles |
| 3D | Crispy landscape, tempura trees, chicken tender knight in armor |
| 4 | Giant clock made of food, time warping, different meals at each hour |
| 5 | Four glowing paths: red (protein), gold (carbs), green (veggie), orange (sauce) |
| 6 | Giant phone notification in sky, group of cartoon foods hanging out |
| 7 | Swirling void of hungry faces, hero pose, energy blast |
| 8 | Dasher with wings, multiple destination portals, peaceful ending |
| 9 | Cosmic void, single spotlight, soul-searching moment |
